(this["webpackJsonpwiggly-triggly"]=this["webpackJsonpwiggly-triggly"]||[]).push([[0],{35:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c,i=n(2),r=n.n(i),a=n(10),o=n.n(a),s=n(0),u=n(5),l=n(3),d=n(7),p=n.n(d),y=n(8),f=[{position:"fixed",top:"0px",left:"0px",right:void 0,bottom:void 0},{position:"fixed",top:"0px",right:"0px",bottom:void 0,left:void 0},{position:"fixed",bottom:"0px",right:"0px",top:void 0,left:void 0},{position:"fixed",bottom:"0px",left:"0px",right:void 0,top:void 0},{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}],j=p()(),b=j("key_pressed"),g=j("key_released"),O=j("cycle_loc_back"),m=j("cycle_loc_fore"),h={activeKeys:{},shapes:{},currentKey:""},x=function(e,t,n){return Object(s.a)(Object(s.a)({},e),{},{activeKeys:Object(s.a)(Object(s.a)({},e.activeKeys),{},Object(l.a)({},t.toLowerCase(),n))})},k=function(e){return(e-1+f.length)%f.length},v=function(e){return(e+1)%f.length},K=function(e,t){console.log(e.currentKey);var n=e.shapes[e.currentKey]?e.shapes[e.currentKey]:{zoneIndex:10,coords:{}},c=t(n.zoneIndex),i=Object(s.a)(Object(s.a)({},n),{},{zoneIndex:c,coords:f[c]});return Object(s.a)(Object(s.a)({},e),{},{shapes:Object(s.a)(Object(s.a)({},e.shapes),{},Object(l.a)({},e.currentKey,i))})},w=Object(y.reducerWithInitialState)(h).case(b,(function(e,t){return Object(s.a)(Object(s.a)({},x(e,t,!0)),{},{currentKey:t})})).case(g,(function(e,t){return Object(s.a)(Object(s.a)({},x(e,t,!1)),{},{currentKey:t})})).case(O,(function(e,t){return K(e,k)})).case(m,(function(e,t){return K(e,v)})),R=function(){var e=r.a.useReducer(w,h),t=Object(u.a)(e,2),n=t[0],c=t[1];return{dispatch:c,state:n,addKeyDown:function(e){(function(e){return Object.keys(te.actions).find((function(t){return t===e}))})(e)||c(b(e))},addKeyUp:function(e){return c(g(e))},cycleLocationBack:O,pressedKeys:n.activeKeys}},D=n(15);!function(e){e[e.KeyUp=0]="KeyUp",e[e.KeyDown=1]="KeyDown"}(c||(c={}));var I={recording:!1,playing:!1,playRequested:!1,timeline:[],startRecordTime:0,keys:""},T=p()(),E=T("START_RECORDING"),S=T("STOP_RECORDING"),_=T("START_PLAYING"),U=T("STOP_PLAYING"),N=T("TOGGLE_PLAY"),C=T("TOGGLE_REC"),G=T("ADD_NO"),z=T("clear"),L=Object(y.reducerWithInitialState)(I).case(E,(function(e){return Object(s.a)(Object(s.a)({},e),{},{recording:!0,playing:!1,startRecordTime:performance.now()})})).case(S,(function(e){return Object(s.a)(Object(s.a)({},e),{},{recording:!1,playing:!1})})).case(C,(function(e){return e.recording?Object(s.a)(Object(s.a)({},e),{},{playing:!1,recording:!1}):Object(s.a)(Object(s.a)({},e),{},{recording:!0,playing:!1,startRecordTime:performance.now()})})).case(_,(function(e){return Object(s.a)(Object(s.a)({},e),{},{playing:!0,recording:!1})})).case(U,(function(e){return Object(s.a)(Object(s.a)({},e),{},{playing:!1,recording:!1})})).case(N,(function(e){return Object(s.a)(Object(s.a)({},e),{},{recording:!1,playRequested:!e.playRequested})})).case(G,(function(e,t){var n=t.key,i=t.e;return"Backspace"===n?Object(s.a)(Object(s.a)({},e),{},{keys:e.keys.slice(0,-1)}):e.recording&&1===n.length?Object(s.a)(Object(s.a)({},e),{},{keys:i===c.KeyUp?e.keys:e.keys+n,playing:!1,timeline:[].concat(Object(D.a)(e.timeline),[[performance.now()-e.startRecordTime,n,i]])}):1===n.length&&i===c.KeyDown?Object(s.a)(Object(s.a)({},e),{},{keys:e.keys+n}):e})).case(z,(function(e){return Object(s.a)(Object(s.a)({},e),{},{timeline:[]})}));var q=n.p+"static/media/logo.6ce24c58.svg",A=n(14),P=n(1),B=Object(A.withSize)()((function(e){e.size;var t=e.children;return Object(P.jsx)("div",{id:"rando",style:{position:"absolute"},children:t})})),M=function(){return Object(P.jsx)("img",{className:"spin",src:q,alt:"logo",width:"250px",height:"250px"})},W=n.p+"static/media/125.f44b9916.gif",F=n.p+"static/media/circl.95cad828.gif",Y=n.p+"static/media/coffee.5f0252c9.gif",J=n.p+"static/media/firex.222bbfad.gif",H=n.p+"static/media/henry.45b986a2.gif",Q=n.p+"static/media/orbital.a41d65df.gif",V=n.p+"static/media/squa.d96eb88c.gif",X=n.p+"static/media/Triang.42ce3d09.gif",Z=(n(35),n(11),document.documentElement.clientHeight),$=document.documentElement.clientWidth;console.log("page",{height:Z,width:$});var ee=function(e){var t=e.shapes,n=e.actions,i=function(e){n[e]?(console.log("sdpecial key"),l(n[e](e)),b(n[e](e))):d(e)},a=function(e){var t;n[e]||(t=e,(NaN!==Number.parseInt(t)||t!==t.toUpperCase())&&p(e))},o=R(),l=o.dispatch,d=o.addKeyDown,p=o.addKeyUp,y=o.pressedKeys,f=o.state,j=function(e){var t=e.handleKeyDown,n=e.handleKeyUp,i=r.a.useReducer(L,I),a=Object(u.a)(i,2),o=a[0],s=a[1],l=function(){console.log("in play"),o.timeline.forEach((function(e,i){var r=Object(u.a)(e,3),a=r[0],o=r[1],s=r[2];setTimeout((function(){switch(s){case c.KeyDown:console.log("pressing ",o),t(o);break;case c.KeyUp:console.log("releaseing ",o),n(o)}}),a)})),console.log("end play")};return r.a.useEffect((function(){if(o.playRequested){var e=o.timeline[o.timeline.length-1][0];l(),console.log("interval ",e),setInterval(l,e)}}),[o.playRequested,o.timeline]),{timline:o.timeline,dispatch:s,keys:o.keys}}({handleKeyDown:i,handleKeyUp:a}),b=j.dispatch,g=j.keys;j.timline;r.a.useEffect((function(){}),[y]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("p",{style:{overflowWrap:"anywhere",zIndex:100,position:"absolute",margin:0,fontSize:"20pt",color:"darkgray",fontFamily:"Comic Sans MS, Comic Sans MS Regular"},children:g}),Object(P.jsx)("div",{className:"full-height",style:{display:"flex",justifyContent:"center",alignItems:"center"},tabIndex:1,onKeyDown:function(e){if(e.preventDefault(),!f.activeKeys[e.key])return b(G({key:e.key,e:c.KeyDown})),i(e.key)},onKeyUp:function(e){return e.preventDefault(),b(G({key:e.key,e:c.KeyUp})),a(e.key)},children:t.map((function(e,t){var n=y[e.key],c={};f.currentKey===e.key&&(c=f.shapes[f.currentKey]?f.shapes[f.currentKey].coords:{});var i=n?Object(s.a)(Object(s.a)({},c),{},{mixBlendMode:"hard-light"}):{display:"none"};return Object(P.jsx)("div",{style:i,children:e.component({visible:n})},t)}))})]})},te={shapes:[{key:"1",component:function(){return Object(P.jsx)("img",{alt:"",src:X})}},{key:"2",component:function(){return Object(P.jsx)("img",{alt:"",src:F})}},{key:"3",component:function(){return Object(P.jsx)("img",{alt:"",src:V})}},{key:"4",component:function(){return Object(P.jsx)("img",{alt:"",src:H})}},{key:"5",component:function(){return Object(P.jsx)(B,{children:Object(P.jsx)(M,{})})}},{key:"6",component:function(){return Object(P.jsx)("div",{})}},{key:"7",component:function(){return Object(P.jsx)("img",{alt:"",src:W})}},{key:"8",component:function(){return Object(P.jsx)("img",{alt:"",src:Y})}},{key:"9",component:function(){return Object(P.jsx)("img",{alt:"",src:J})}},{key:"0",component:function(){return Object(P.jsx)("img",{alt:"",src:Q})}}],actions:{"[":O,"]":m,Tab:C,Enter:N,Escape:z}},ne=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ee,Object(s.a)({},te))})};o.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(ne,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b2a949a0.chunk.js.map